diff -ur tigervnc-1.3.0.orig/unix/vncserver tigervnc-1.3.0/unix/vncserver
--- tigervnc-1.3.0.orig/unix/vncserver	2013-07-18 16:37:54.000000000 +0000
+++ tigervnc-1.3.0/unix/vncserver	2013-07-21 21:01:17.590116481 +0000
@@ -57,27 +57,13 @@
 
 $defaultXStartup
     = ("#!/bin/sh\n\n".
-       "unset SESSION_MANAGER\n".
-       "unset DBUS_SESSION_BUS_ADDRESS\n".
-       "OS=`uname -s`\n".
-       "if [ \$OS = 'Linux' ]; then\n".
-       "  case \"\$WINDOWMANAGER\" in\n".
-       "    \*gnome\*)\n".
-       "      if [ -e /etc/SuSE-release ]; then\n".
-       "        PATH=\$PATH:/opt/gnome/bin\n".
-       "        export PATH\n".
-       "      fi\n".
-       "      ;;\n".
-       "  esac\n".
-       "fi\n".
-       "if [ -x /etc/X11/xinit/xinitrc ]; then\n".
-       "  exec /etc/X11/xinit/xinitrc\n".
-       "fi\n".
-       "if [ -f /etc/X11/xinit/xinitrc ]; then\n".
-       "  exec sh /etc/X11/xinit/xinitrc\n".
-       "fi\n".
-       "[ -r \$HOME/.Xresources ] && xrdb \$HOME/.Xresources\n".
+       "# Uncomment the following two lines for normal desktop:\n\n".
+       "# unset SESSION_MANAGER\n".
+       "# exec /etc/X11/xinit/xinitrc\n\n".
+       "[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup\n".
+       "[ -r $HOME/.Xresources ] && xrdb $HOME/.Xresources\n\n".
        "xsetroot -solid grey\n".
+       "vncconfig -iconic &\n".
        "xterm -geometry 80x24+10+10 -ls -title \"\$VNCDESKTOP Desktop\" &\n".
        "twm &\n");
 
@@ -322,8 +308,6 @@
 }
 $ENV{VNCDESKTOP}= $desktopName;
 
-system($exedir."vncconfig -iconic >> " . &quotedString($desktopLog) . " 2>&1 &");
-
 if ($opt{'-fg'}) {
     system("$vncUserDir/xstartup >> " . &quotedString($desktopLog) . " 2>&1");
     if (kill 0, `cat $pidFile`) {
