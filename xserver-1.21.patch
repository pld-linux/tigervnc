--- tigervnc-1.11.0/unix/xserver/hw/vnc/xorg-version.h~	2020-09-08 14:16:08.000000000 +0200
+++ tigervnc-1.11.0/unix/xserver/hw/vnc/xorg-version.h	2021-11-03 16:04:19.496096213 +0100
@@ -36,8 +36,10 @@
 #define XORG 119
 #elif XORG_VERSION_CURRENT < ((1 * 10000000) + (20 * 100000) + (99 * 1000))
 #define XORG 120
+#elif XORG_VERSION_CURRENT < ((1 * 10000000) + (21 * 100000) + (99 * 1000))
+#define XORG 120
 #else
-#error "X.Org newer than 1.20 is not supported"
+#error "X.Org newer than 1.21 is not supported"
 #endif
 
 #endif
--- tigervnc-1.11.0/unix/xserver/hw/vnc/xvnc.c.orig	2021-11-03 16:05:33.000000000 +0100
+++ tigervnc-1.11.0/unix/xserver/hw/vnc/xvnc.c	2021-11-06 10:46:56.759091419 +0100
@@ -80,7 +80,14 @@
 #undef VENDOR_RELEASE
 #undef VENDOR_STRING
 #include "version-config.h"
-#include "site.h"
+
+/* Default logging parameters. */
+#ifndef DEFAULT_LOG_VERBOSITY
+#define DEFAULT_LOG_VERBOSITY		0
+#endif
+#ifndef DEFAULT_LOG_FILE_VERBOSITY
+#define DEFAULT_LOG_FILE_VERBOSITY	3
+#endif
 
 #define XVNCVERSION "TigerVNC 1.11.0"
 #define XVNCCOPYRIGHT ("Copyright (C) 1999-2020 TigerVNC Team and many others (see README.rst)\n" \
@@ -155,8 +162,7 @@
 vncPrintBanner(void)
 {
     ErrorF("\nXvnc %s - built %s\n%s", XVNCVERSION, buildtime, XVNCCOPYRIGHT);
-    ErrorF("Underlying X server release %d, %s\n\n", VENDOR_RELEASE,
-           VENDOR_STRING);
+    ErrorF("Underlying X server release %d\n\n", VENDOR_RELEASE);
 }
 
 static void
